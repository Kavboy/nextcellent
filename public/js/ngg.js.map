{"version":3,"sources":["../../js/ngg.js"],"names":["jQuery","ready","click","e","ngg_ajax_navigation","ngg_ajax_browser_navigation","document","tooltip","content","parseHTML","getAttribute","obj","pageNumber","hasClass","contents","data","attr","substr","currentNode","parentNode","nodeName","substring","gallery","payload","separatorPosition","parseInt","indexOf","galleryId","postId","length","ngg_show_loading","get","ngg_ajax","callback","p","galleryid","nggpage","type","textStatus","children","remove","replaceWith","unbind","shutterReloaded","init","ngg_remove_loading","imageNumber","pid","loadingImage","createElement","path","loading","append","css","position","top","pageY","left","pageX","mousemove"],"mappings":"AAAAA,MAAM,CAAE,UAAF,CAAN,CAAqBC,KAArB,CAA4B,YAAY;AACvC;AACAD,EAAAA,MAAM,CAAE,gBAAF,CAAN,CAA2BE,KAA3B,CAAkC,UAAWC,CAAX,EAAe;AAChD,WAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,GAFD;AAGAH,EAAAA,MAAM,CAAE,QAAF,CAAN,CAAmBE,KAAnB,CAA0B,UAAWC,CAAX,EAAe;AACxC,WAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,GAFD;AAGAH,EAAAA,MAAM,CAAE,QAAF,CAAN,CAAmBE,KAAnB,CAA0B,UAAWC,CAAX,EAAe;AACxC,WAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,GAFD,EARuC,CAYvC;;AACAH,EAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+BE,KAA/B,CAAsC,UAAWC,CAAX,EAAe;AACpD,WAAOE,2BAA2B,CAAEF,CAAF,EAAK,IAAL,CAAlC;AACA,GAFD;AAGAH,EAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+BE,KAA/B,CAAsC,UAAWC,CAAX,EAAe;AACpD,WAAOE,2BAA2B,CAAEF,CAAF,EAAK,IAAL,CAAlC;AACA,GAFD,EAhBuC,CAmBvC;AACA;;AACA;AACD;AACA;AACA;AAEC;AACA;AACA;;AACAH,EAAAA,MAAM,CAAEM,QAAF,CAAN,CAAmBC,OAAnB,CAA4B;AAC3BC,IAAAA,OAD2B,qBACjB;AACT,aAAOR,MAAM,CAACS,SAAP,CAAkB,KAAKC,YAAL,CAAmB,OAAnB,CAAlB,CAAP;AACA;AAH0B,GAA5B;AAKA,CAlCD;;AAoCA,SAASN,mBAAT,CAA8BD,CAA9B,EAAiCQ,GAAjC,EAAuC;AACtC;AACA,MAAIC,UAAU,GAAG,CAAjB;;AACA,MAAKZ,MAAM,CAAEW,GAAF,CAAN,CAAcE,QAAd,CAAwB,cAAxB,CAAL,EAAgD;AAC/CD,IAAAA,UAAU,GAAGZ,MAAM,CAAEW,GAAF,CAAN,CAAcG,QAAd,GAA0B,CAA1B,EAA8BC,IAA3C;AACA,GAFD,MAEO,IAAKf,MAAM,CAAEW,GAAF,CAAN,CAAcE,QAAd,CAAwB,MAAxB,CAAL,EAAwC;AAC9CD,IAAAA,UAAU,GAAGZ,MAAM,CAAEW,GAAF,CAAN,CAAcK,IAAd,CAAoB,IAApB,EAA2BC,MAA3B,CAAmC,CAAnC,CAAb;AACA,GAFM,MAEA,IAAKjB,MAAM,CAAEW,GAAF,CAAN,CAAcE,QAAd,CAAwB,MAAxB,CAAL,EAAwC;AAC9CD,IAAAA,UAAU,GAAGZ,MAAM,CAAEW,GAAF,CAAN,CAAcK,IAAd,CAAoB,IAApB,EAA2BC,MAA3B,CAAmC,CAAnC,CAAb;AACA,GATqC,CAWtC;;;AACA,MAAIC,WAAW,GAAGP,GAAG,CAACQ,UAAtB;;AACA,SACC,QAAQD,WAAW,CAACC,UAApB,IACA,CAAEnB,MAAM,CAACoB,QAAP,CAAiBF,WAAW,CAACC,UAA7B,EAAyC,MAAzC,CADF,IAEA,kBACCnB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAN,CAAiCH,IAAjC,CAAuC,IAAvC,EAA8CK,SAA9C,CAAyD,CAAzD,EAA4D,EAA5D,CAJF,EAKE;AACDH,IAAAA,WAAW,GAAGA,WAAW,CAACC,UAA1B;AACA;;AAED,MAAKnB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAN,CAAiCH,IAAjC,CAAuC,IAAvC,CAAL,EAAqD;AACpD,QAAMM,OAAO,GAAGtB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAtB,CADoD,CAGpD;;AACA,QAAMI,OAAO,GAAGD,OAAO,CAACN,IAAR,CAAc,IAAd,EAAqBK,SAArB,CAAgC,EAAhC,CAAhB;AACA,QAAMG,iBAAiB,GAAGC,QAAQ,CAAEF,OAAO,CAACG,OAAR,CAAiB,GAAjB,CAAF,CAAlC;AAEA,QAAMC,SAAS,GAAGJ,OAAO,CAACN,MAAR,CAAgB,CAAhB,EAAmBO,iBAAnB,CAAlB;AACA,QAAMI,MAAM,GAAGL,OAAO,CAACN,MAAR,CAAgBO,iBAAiB,GAAG,CAApC,CAAf;;AAEA,QAAKG,SAAS,CAACE,MAAV,IAAoB,CAApB,IAAyBD,MAAM,CAACC,MAAP,IAAiB,CAA/C,EAAmD;AAClD,aAAO,IAAP;AACA;;AAEDC,IAAAA,gBAAgB,CAAE3B,CAAF,CAAhB,CAdoD,CAgBpD;;AACAH,IAAAA,MAAM,CAAC+B,GAAP,CACCC,QAAQ,CAACC,QADV,EAEC;AACCC,MAAAA,CAAC,EAAEN,MADJ;AAECO,MAAAA,SAAS,EAAER,SAFZ;AAGCS,MAAAA,OAAO,EAAExB,UAHV;AAICyB,MAAAA,IAAI,EAAE;AAJP,KAFD,EAQC,UAAWtB,IAAX,EAAiBuB,UAAjB,EAA8B;AAC7B;AACAhB,MAAAA,OAAO,CAACiB,QAAR,GAAmBC,MAAnB,GAF6B,CAI7B;;AACAlB,MAAAA,OAAO,CAACmB,WAAR,CAAqB1B,IAArB,EAL6B,CAO7B;;AACAf,MAAAA,MAAM,CAAE,UAAF,CAAN,CAAqBC,KAArB,CAA4B,YAAY;AACvC;AACAD,QAAAA,MAAM,CAAE,gBAAF,CAAN,CAA2B0C,MAA3B,CAAmC,OAAnC;AACA1C,QAAAA,MAAM,CAAE,QAAF,CAAN,CAAmB0C,MAAnB,CAA2B,OAA3B;AACA1C,QAAAA,MAAM,CAAE,QAAF,CAAN,CAAmB0C,MAAnB,CAA2B,OAA3B,EAJuC,CAMvC;;AACAC,QAAAA,eAAe,CAACC,IAAhB,CAAsB,IAAtB;AAEA5C,QAAAA,MAAM,CAAE,gBAAF,CAAN,CAA2BE,KAA3B,CAAkC,UAAWC,CAAX,EAAe;AAChD,iBAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,SAFD;AAGAH,QAAAA,MAAM,CAAE,QAAF,CAAN,CAAmBE,KAAnB,CAA0B,UAAWC,CAAX,EAAe;AACxC,iBAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,SAFD;AAGAH,QAAAA,MAAM,CAAE,QAAF,CAAN,CAAmBE,KAAnB,CAA0B,UAAWC,CAAX,EAAe;AACxC,iBAAOC,mBAAmB,CAAED,CAAF,EAAK,IAAL,CAA1B;AACA,SAFD;AAIA0C,QAAAA,kBAAkB;AAClB,OApBD;AAqBA,KArCF,EAjBoD,CAyDpD;;AACA,WAAO,KAAP;AACA,GAjFqC,CAmFtC;;;AACA,SAAO,IAAP;AACA;;AAED,SAASxC,2BAAT,CAAsCF,CAAtC,EAAyCQ,GAAzC,EAA+C;AAC9C;AACA,MACC,eAAeX,MAAM,CAAEW,GAAF,CAAN,CAAcK,IAAd,CAAoB,IAApB,EAA2BC,MAA3B,CAAmC,CAAnC,EAAsC,CAAtC,CAAf,IACA,eAAejB,MAAM,CAAEW,GAAF,CAAN,CAAcK,IAAd,CAAoB,IAApB,EAA2BC,MAA3B,CAAmC,CAAnC,EAAsC,CAAtC,CAFhB,EAGE;AACD;AACA,QAAM6B,WAAW,GAAG9C,MAAM,CAAEW,GAAF,CAAN,CAAcK,IAAd,CAAoB,IAApB,EAA2BC,MAA3B,CAAmC,CAAnC,CAApB,CAFC,CAID;;AACA,QAAIC,WAAW,GAAGP,GAAlB;;AACA,WACC,QAAQO,WAAW,CAACC,UAApB,IACA,CAAEnB,MAAM,CAACoB,QAAP,CAAiBF,WAAW,CAACC,UAA7B,EAAyC,MAAzC,CADF,IAEA,CAAEnB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAN,CAAiCN,QAAjC,CAA2C,kBAA3C,CAHH,EAIE;AACDK,MAAAA,WAAW,GAAGA,WAAW,CAACC,UAA1B;AACA;;AAED,QAAKnB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAN,CAAiCN,QAAjC,CAA2C,kBAA3C,CAAL,EAAuE;AACtE,UAAMS,OAAO,GAAGtB,MAAM,CAAEkB,WAAW,CAACC,UAAd,CAAtB,CADsE,CAGtE;;AACA,UAAMI,OAAO,GAAGD,OAAO,CAACN,IAAR,CAAc,IAAd,EAAqBK,SAArB,CAAgC,EAAhC,CAAhB;AACA,UAAMG,iBAAiB,GAAGC,QAAQ,CAAEF,OAAO,CAACG,OAAR,CAAiB,GAAjB,CAAF,CAAlC;AAEA,UAAMC,SAAS,GAAGJ,OAAO,CAACN,MAAR,CAAgB,CAAhB,EAAmBO,iBAAnB,CAAlB;AACA,UAAMI,MAAM,GAAGL,OAAO,CAACN,MAAR,CAAgBO,iBAAiB,GAAG,CAApC,CAAf;;AAEA,UAAKG,SAAS,CAACE,MAAV,IAAoB,CAApB,IAAyBD,MAAM,CAACC,MAAP,IAAiB,CAA/C,EAAmD;AAClD,eAAO,IAAP;AACA;;AAEDC,MAAAA,gBAAgB,CAAE3B,CAAF,CAAhB,CAdsE,CAgBtE;;AACAH,MAAAA,MAAM,CAAC+B,GAAP,CACCC,QAAQ,CAACC,QADV,EAEC;AACCC,QAAAA,CAAC,EAAEN,MADJ;AAECO,QAAAA,SAAS,EAAER,SAFZ;AAGCoB,QAAAA,GAAG,EAAED,WAHN;AAICT,QAAAA,IAAI,EAAE;AAJP,OAFD,EAQC,UAAWtB,IAAX,EAAiBuB,UAAjB,EAA8B;AAC7B;AACAhB,QAAAA,OAAO,CAACiB,QAAR,GAAmBC,MAAnB,GAF6B,CAI7B;;AACAlB,QAAAA,OAAO,CAACmB,WAAR,CAAqB1B,IAArB,EAL6B,CAO7B;;AACAf,QAAAA,MAAM,CAAE,UAAF,CAAN,CAAqBC,KAArB,CAA4B,YAAY;AACvC;AACAD,UAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+B0C,MAA/B,CAAuC,OAAvC;AACA1C,UAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+B0C,MAA/B,CAAuC,OAAvC,EAHuC,CAKvC;;AACAC,UAAAA,eAAe,CAACC,IAAhB,CAAsB,IAAtB,EANuC,CAQvC;;AACA5C,UAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+BE,KAA/B,CAAsC,UAAWC,CAAX,EAAe;AACpD,mBAAOE,2BAA2B,CAAEF,CAAF,EAAK,IAAL,CAAlC;AACA,WAFD;AAGAH,UAAAA,MAAM,CAAE,oBAAF,CAAN,CAA+BE,KAA/B,CAAsC,UAAWC,CAAX,EAAe;AACpD,mBAAOE,2BAA2B,CAAEF,CAAF,EAAK,IAAL,CAAlC;AACA,WAFD;AAIA0C,UAAAA,kBAAkB;AAClB,SAjBD;AAkBA,OAlCF,EAjBsE,CAsDtE;;AACA,aAAO,KAAP;AACA;AACD;;AAED,SAAO,IAAP;AACA;;AAED,IAAIG,YAAJ;;AACA,SAASlB,gBAAT,CAA2BnB,GAA3B,EAAiC;AAChCqC,EAAAA,YAAY,GAAGhD,MAAM,CAAEM,QAAQ,CAAC2C,aAAT,CAAwB,KAAxB,CAAF,CAAN,CACbjC,IADa,CACP,KADO,EACAgB,QAAQ,CAACkB,IAAT,GAAgB,wBADhB,EAEblC,IAFa,CAEP,KAFO,EAEAgB,QAAQ,CAACmB,OAFT,CAAf;AAIAnD,EAAAA,MAAM,CAAE,MAAF,CAAN,CAAiBoD,MAAjB,CAAyBJ,YAAzB;AAEAhD,EAAAA,MAAM,CAAEgD,YAAF,CAAN,CAAuBK,GAAvB,CAA4B;AAC3BC,IAAAA,QAAQ,EAAE,UADiB;AAE3BC,IAAAA,GAAG,EAAE5C,GAAG,CAAC6C,KAAJ,GAAY,EAAZ,GAAiB,IAFK;AAG3BC,IAAAA,IAAI,EAAE9C,GAAG,CAAC+C,KAAJ,GAAY,EAAZ,GAAiB;AAHI,GAA5B;AAMA1D,EAAAA,MAAM,CAAEM,QAAF,CAAN,CAAmBqD,SAAnB,CAA8B,UAAWxD,CAAX,EAAe;AAC5C6C,IAAAA,YAAY,CAACK,GAAb,CAAkB;AACjBE,MAAAA,GAAG,EAAEpD,CAAC,CAACqD,KAAF,GAAU,EAAV,GAAe,IADH;AAEjBC,MAAAA,IAAI,EAAEtD,CAAC,CAACuD,KAAF,GAAU,EAAV,GAAe;AAFJ,KAAlB;AAIA,GALD;AAMA;;AAED,SAASb,kBAAT,GAA8B;AAC7B7C,EAAAA,MAAM,CAAEM,QAAF,CAAN,CAAmBoC,MAAnB,CAA2B,WAA3B;AAEA1C,EAAAA,MAAM,CAAEgD,YAAF,CAAN,CAAuBR,MAAvB;AACA","sourcesContent":["jQuery( 'document' ).ready( function () {\r\n\t// register ajax gallery-navigation listeners\r\n\tjQuery( 'a.page-numbers' ).click( function ( e ) {\r\n\t\treturn ngg_ajax_navigation( e, this );\r\n\t} );\r\n\tjQuery( 'a.prev' ).click( function ( e ) {\r\n\t\treturn ngg_ajax_navigation( e, this );\r\n\t} );\r\n\tjQuery( 'a.next' ).click( function ( e ) {\r\n\t\treturn ngg_ajax_navigation( e, this );\r\n\t} );\r\n\r\n\t// register ajax browser-navigation listeners\r\n\tjQuery( 'a.ngg-browser-next' ).click( function ( e ) {\r\n\t\treturn ngg_ajax_browser_navigation( e, this );\r\n\t} );\r\n\tjQuery( 'a.ngg-browser-prev' ).click( function ( e ) {\r\n\t\treturn ngg_ajax_browser_navigation( e, this );\r\n\t} );\r\n\t// 29/01/2015: this prevents ajax from running.\r\n\t// Qunit conditional call\r\n\t/** if (ngg_get_url_vars().nextcellent) {\r\n\t\t\t//Como invoco esto?\r\n\t\t\t//edcal_test.runTests();\r\n\t\t} */\r\n\r\n\t// Activate tooltip. Allow HTML content.\r\n\t// See http://jqueryui.com/tooltip/ for examples.\r\n\t// See http://stackoverflow.com/questions/15734105/jquery-ui-tooltip-does-not-support-html-content\r\n\tjQuery( document ).tooltip( {\r\n\t\tcontent() {\r\n\t\t\treturn jQuery.parseHTML( this.getAttribute( 'title' ) );\r\n\t\t},\r\n\t} );\r\n} );\r\n\r\nfunction ngg_ajax_navigation( e, obj ) {\r\n\t// try to find page number\r\n\tlet pageNumber = 0;\r\n\tif ( jQuery( obj ).hasClass( 'page-numbers' ) ) {\r\n\t\tpageNumber = jQuery( obj ).contents()[ 0 ].data;\r\n\t} else if ( jQuery( obj ).hasClass( 'prev' ) ) {\r\n\t\tpageNumber = jQuery( obj ).attr( 'id' ).substr( 9 );\r\n\t} else if ( jQuery( obj ).hasClass( 'next' ) ) {\r\n\t\tpageNumber = jQuery( obj ).attr( 'id' ).substr( 9 );\r\n\t}\r\n\r\n\t// try to find gallery number by checking the parents ID until we find a matching one\r\n\tlet currentNode = obj.parentNode;\r\n\twhile (\r\n\t\tnull != currentNode.parentNode &&\r\n\t\t! jQuery.nodeName( currentNode.parentNode, 'body' ) &&\r\n\t\t'ngg-gallery-' !=\r\n\t\t\tjQuery( currentNode.parentNode ).attr( 'id' ).substring( 0, 12 )\r\n\t) {\r\n\t\tcurrentNode = currentNode.parentNode;\r\n\t}\r\n\r\n\tif ( jQuery( currentNode.parentNode ).attr( 'id' ) ) {\r\n\t\tconst gallery = jQuery( currentNode.parentNode );\r\n\r\n\t\t// we found a gallery, let's extract the post id & gallery id\r\n\t\tconst payload = gallery.attr( 'id' ).substring( 12 );\r\n\t\tconst separatorPosition = parseInt( payload.indexOf( '-' ) );\r\n\r\n\t\tconst galleryId = payload.substr( 0, separatorPosition );\r\n\t\tconst postId = payload.substr( separatorPosition + 1 );\r\n\r\n\t\tif ( galleryId.length == 0 || postId.length == 0 ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tngg_show_loading( e );\r\n\r\n\t\t// load gallery content\r\n\t\tjQuery.get(\r\n\t\t\tngg_ajax.callback,\r\n\t\t\t{\r\n\t\t\t\tp: postId,\r\n\t\t\t\tgalleryid: galleryId,\r\n\t\t\t\tnggpage: pageNumber,\r\n\t\t\t\ttype: 'gallery',\r\n\t\t\t},\r\n\t\t\tfunction ( data, textStatus ) {\r\n\t\t\t\t// delete old content\r\n\t\t\t\tgallery.children().remove();\r\n\r\n\t\t\t\t// add new content\r\n\t\t\t\tgallery.replaceWith( data );\r\n\r\n\t\t\t\t// add ajax-navigation, again\r\n\t\t\t\tjQuery( 'document' ).ready( function () {\r\n\t\t\t\t\t// remove old listeners to avoid double-clicks\r\n\t\t\t\t\tjQuery( 'a.page-numbers' ).unbind( 'click' );\r\n\t\t\t\t\tjQuery( 'a.prev' ).unbind( 'click' );\r\n\t\t\t\t\tjQuery( 'a.next' ).unbind( 'click' );\r\n\r\n\t\t\t\t\t// add shutter-listeners again\r\n\t\t\t\t\tshutterReloaded.init( 'sh' );\r\n\r\n\t\t\t\t\tjQuery( 'a.page-numbers' ).click( function ( e ) {\r\n\t\t\t\t\t\treturn ngg_ajax_navigation( e, this );\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tjQuery( 'a.prev' ).click( function ( e ) {\r\n\t\t\t\t\t\treturn ngg_ajax_navigation( e, this );\r\n\t\t\t\t\t} );\r\n\t\t\t\t\tjQuery( 'a.next' ).click( function ( e ) {\r\n\t\t\t\t\t\treturn ngg_ajax_navigation( e, this );\r\n\t\t\t\t\t} );\r\n\r\n\t\t\t\t\tngg_remove_loading();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\t// deactivate HTML link\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// an error occurred, use traditional HTML link\r\n\treturn true;\r\n}\r\n\r\nfunction ngg_ajax_browser_navigation( e, obj ) {\r\n\t// try to find gallery number\r\n\tif (\r\n\t\t'ngg-prev-' == jQuery( obj ).attr( 'id' ).substr( 0, 9 ) ||\r\n\t\t'ngg-next-' == jQuery( obj ).attr( 'id' ).substr( 0, 9 )\r\n\t) {\r\n\t\t// extract the image-id\r\n\t\tconst imageNumber = jQuery( obj ).attr( 'id' ).substr( 9 );\r\n\r\n\t\t// find the image-browser-container\r\n\t\tlet currentNode = obj;\r\n\t\twhile (\r\n\t\t\tnull != currentNode.parentNode &&\r\n\t\t\t! jQuery.nodeName( currentNode.parentNode, 'body' ) &&\r\n\t\t\t! jQuery( currentNode.parentNode ).hasClass( 'ngg-imagebrowser' )\r\n\t\t) {\r\n\t\t\tcurrentNode = currentNode.parentNode;\r\n\t\t}\r\n\r\n\t\tif ( jQuery( currentNode.parentNode ).hasClass( 'ngg-imagebrowser' ) ) {\r\n\t\t\tconst gallery = jQuery( currentNode.parentNode );\r\n\r\n\t\t\t// let's extract the post id & gallery id\r\n\t\t\tconst payload = gallery.attr( 'id' ).substring( 17 );\r\n\t\t\tconst separatorPosition = parseInt( payload.indexOf( '-' ) );\r\n\r\n\t\t\tconst galleryId = payload.substr( 0, separatorPosition );\r\n\t\t\tconst postId = payload.substr( separatorPosition + 1 );\r\n\r\n\t\t\tif ( galleryId.length == 0 || postId.length == 0 ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tngg_show_loading( e );\r\n\r\n\t\t\t// get content\r\n\t\t\tjQuery.get(\r\n\t\t\t\tngg_ajax.callback,\r\n\t\t\t\t{\r\n\t\t\t\t\tp: postId,\r\n\t\t\t\t\tgalleryid: galleryId,\r\n\t\t\t\t\tpid: imageNumber,\r\n\t\t\t\t\ttype: 'browser',\r\n\t\t\t\t},\r\n\t\t\t\tfunction ( data, textStatus ) {\r\n\t\t\t\t\t// delete old content\r\n\t\t\t\t\tgallery.children().remove();\r\n\r\n\t\t\t\t\t// add new content\r\n\t\t\t\t\tgallery.replaceWith( data );\r\n\r\n\t\t\t\t\t// add ajax-navigation, again\r\n\t\t\t\t\tjQuery( 'document' ).ready( function () {\r\n\t\t\t\t\t\t// remove old listeners to avoid double-clicks\r\n\t\t\t\t\t\tjQuery( 'a.ngg-browser-next' ).unbind( 'click' );\r\n\t\t\t\t\t\tjQuery( 'a.ngg-browser-prev' ).unbind( 'click' );\r\n\r\n\t\t\t\t\t\t// add shutter-listeners again\r\n\t\t\t\t\t\tshutterReloaded.init( 'sh' );\r\n\r\n\t\t\t\t\t\t// register ajax browser-navigation listeners\r\n\t\t\t\t\t\tjQuery( 'a.ngg-browser-next' ).click( function ( e ) {\r\n\t\t\t\t\t\t\treturn ngg_ajax_browser_navigation( e, this );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tjQuery( 'a.ngg-browser-prev' ).click( function ( e ) {\r\n\t\t\t\t\t\t\treturn ngg_ajax_browser_navigation( e, this );\r\n\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\tngg_remove_loading();\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\t// deactivate HTML link\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\treturn true;\r\n}\r\n\r\nlet loadingImage;\r\nfunction ngg_show_loading( obj ) {\r\n\tloadingImage = jQuery( document.createElement( 'img' ) )\r\n\t\t.attr( 'src', ngg_ajax.path + 'images/ajax-loader.gif' )\r\n\t\t.attr( 'alt', ngg_ajax.loading );\r\n\r\n\tjQuery( 'body' ).append( loadingImage );\r\n\r\n\tjQuery( loadingImage ).css( {\r\n\t\tposition: 'absolute',\r\n\t\ttop: obj.pageY + 15 + 'px',\r\n\t\tleft: obj.pageX + 15 + 'px',\r\n\t} );\r\n\r\n\tjQuery( document ).mousemove( function ( e ) {\r\n\t\tloadingImage.css( {\r\n\t\t\ttop: e.pageY + 15 + 'px',\r\n\t\t\tleft: e.pageX + 15 + 'px',\r\n\t\t} );\r\n\t} );\r\n}\r\n\r\nfunction ngg_remove_loading() {\r\n\tjQuery( document ).unbind( 'mousemove' );\r\n\r\n\tjQuery( loadingImage ).remove();\r\n}\r\n"],"file":"ngg.js"}